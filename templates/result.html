{% extends "layout.html" %}
{% block body %}
 <style>
  table {
    border-collapse: collapse;
    width: 50%;
    margin: auto;
  }

  th,
  td {
    text-align: center;
    padding: 8px;
  }

  th {
    background-color: #f2f2f2;
  }

  tr:nth-child(even) {
    background-color: #f2f2f2;
  }
</style>
<p style="font-size: 30px; color: rgb(255, 255, 255);">Result</p>
<p style="font-size: 30px; text-align: center;">Voting Results</p>

<table>
  <thead>
      <tr>
          <th>CNIC</th>
          <th>Name</th>
          <th>Party</th>
          <th>Image_URI</th>
          <th>Votes</th>
      </tr>
  </thead>
  <tbody>
      {% for candidate in result_data %}
          <tr>
              <td>{{ candidate[0] }}</td>
              <td>{{ candidate[1] }}</td>
              <td>{{ candidate[2] }}</td>
              <td>{{ candidate[3] }}</td>
              <td>{{ candidate[4] }}</td>
          </tr>
      {% endfor %}
  </tbody>
</table>

<script>
  // get the vote counts from localStorage or initialize to 0
  let mnVotes = parseInt(localStorage.getItem('mnVotes')) || 0;
  let ikVotes = parseInt(localStorage.getItem('ikVotes')) || 0;
  let azVotes = parseInt(localStorage.getItem('azVotes')) || 0;

  // update the vote counts in the table
  document.getElementById('mn-votes').textContent = mnVotes;
  document.getElementById('ik-votes').textContent = ikVotes;
  document.getElementById('az-votes').textContent = azVotes;
</script>
  <!--about section start -->
  {% endblock %}